import pygame
from pygame import font
from pygame import *

mixer.init()
mixer.music.load('waka.wav')
mixer.music.play()
pygame.event.wait()

pygame.font.init()  
font = pygame.font.Font(None, 36)

#Створюємо віконце
win_width = 1200
win_height = 700
display.set_caption("Лабіринт")
window = display.set_mode((win_width, win_height))
back = transform.scale(image.load("back2.jpg"), (win_width, win_height))  # задаємо колір відповідно до колірної схеми RGB 

#клас-батько для інших спрайтів
class GameSprite(sprite.Sprite):
 #конструктор класу
    def __init__(self, player_image, player_x, player_y, size_x, size_y):
     # Викликаємо конструктор класу (Sprite):
        sprite.Sprite.__init__(self)
     #кожен спрайт повинен зберігати властивість image - зображення
        self.image = transform.scale(image.load(player_image), (size_x, size_y))
 
     #кожен спрайт повинен зберігати властивість rect - прямокутник, в який він вписаний
        self.rect = self.image.get_rect()
        self.rect.x = player_x
        self.rect.y = player_y
 #метод, що малює героя на вікні
    def reset(self):
        window.blit(self.image, (self.rect.x, self.rect.y))
 
 
class Player(GameSprite):
 #метод, у якому реалізовано управління спрайтом за кнопками стрілочкам клавіатури
    def __init__(self, player_image, player_x, player_y, size_x, size_y, player_x_speed,player_y_speed):
     # Викликаємо конструктор класу (Sprite):
        GameSprite.__init__(self, player_image, player_x, player_y, size_x, size_y)
        self.x_speed = player_x_speed
        self.y_speed = player_y_speed

    
    ''' переміщає персонажа, застосовуючи поточну горизонтальну та вертикальну швидкість'''
    def update(self):
        if packman.rect.x <= win_width-40 and packman.x_speed > 0 or packman.rect.x >= 0 and packman.x_speed < 0:
            self.rect.x += self.x_speed
            # якщо зайшли за стінку, то встанемо впритул до стіни
        platforms_touched = sprite.spritecollide(self, barriers, False)
        if self.x_speed > 0: # йдемо праворуч, правий край персонажа - впритул до лівого краю стіни
            for p in platforms_touched:
                self.rect.right = min(self.rect.right, p.rect.left) # якщо торкнулися відразу кількох, то правий край - мінімальний
        elif self.x_speed < 0: # йдемо ліворуч, ставимо лівий край персонажа впритул до правого краю стіни
            for p in platforms_touched:
                self.rect.left = max(self.rect.left, p.rect.right) # якщо торкнулися кількох стін, то лівий край - максимальний
        if packman.rect.y <= win_height-40 and packman.y_speed > 0 or packman.rect.y >= 0 and packman.y_speed < 0:
            self.rect.y += self.y_speed
            # якщо зайшли за стінку, то встанемо впритул до стіни
        platforms_touched = sprite.spritecollide(self, barriers, False)
        if self.y_speed > 0: # йдемо вниз
            for p in platforms_touched:
                # Перевіряємо, яка з платформ знизу найвища, вирівнюємося по ній, запам'ятовуємо її як свою опору:
                if p.rect.top < self.rect.bottom:
                    self.rect.bottom = p.rect.top
        elif self.y_speed < 0: # йдемо вгору
            for p in platforms_touched:
                self.rect.top = max(self.rect.top, p.rect.bottom) # вирівнюємо верхній край по нижніх краях стінок, на які наїхали


    def fire(self):
        bullet = Bullet('nuc.png', self.rect.right - 25, self.rect.centery - 16, 15, 20, 3)
        bullets.add(bullet)


class Bullet(GameSprite):
    def __init__(self, player_image, player_x, player_y, size_x, size_y, player_speed):
        # Викликаємо конструктор GameSprite
        GameSprite.__init__(self, player_image, player_x, player_y, size_x, size_y)
        self.speed = player_speed

    # рух ворога
    def update(self):
        self.rect.x += self.speed
        # зникає, якщо виходить за межі екрану
        if self.rect.x > win_width + 10:
            self.kill()       


class Enemy_x(GameSprite):
    side = "left"
    def __init__(self, spr_image, spr_x, spr_y, spr_size_x, spr_size_y, x_left_granica, x_right_granica, x_speed):
        GameSprite.__init__(self, spr_image, spr_x, spr_y, spr_size_x, spr_size_y)
        self.x_right_granica = x_right_granica
        self.x_left_granica = x_left_granica
        self.x_speed = x_speed
    def update(self):
        if self.rect.x <= self.x_left_granica:
            self.side = 'right'
        if self.rect.x >= self.x_right_granica:
            self.side = 'left'

        if self.side == 'left':
            self.rect.x -= self.x_speed
        elif self.side == 'right':
            self.rect.x += self.x_speed

class Enemy_y(GameSprite):
    side = "up"
    def __init__(self, spr_image, spr_x, spr_y, spr_size_x, spr_size_y, y_up_granica, y_down_granica, y_speed):
        GameSprite.__init__(self, spr_image, spr_x, spr_y, spr_size_x, spr_size_y)
        self.y_up_granica = y_up_granica
        self.y_down_granica = y_down_granica
        self.y_speed = y_speed
    def update(self):
        if self.rect.y <= self.y_up_granica:
            self.side = 'down'
        if self.rect.y >= self.y_down_granica:
            self.side = 'up'

        if self.side == 'up':
            self.rect.y -= self.y_speed
        elif self.side == 'down':
            self.rect.y += self.y_speed

 
coins_amount_1 = 0

class Coin(GameSprite):
    def __init__(self, spr_image, spr_x, spr_y, spr_size_x, spr_size_y):
        GameSprite.__init__(self, spr_image, spr_x, spr_y, spr_size_x, spr_size_y)

coin1 = Coin('coin.png',270, 100 - 20, 20, 20)
coin2 = Coin('coin.png',270, 145 - 20, 20, 20)
coin3 = Coin('coin.png',270, 190 - 20, 20, 20)
coin4 = Coin('coin.png',270, 235 - 20, 20, 20)
coin5 = Coin('coin.png',270, 280 - 20, 20, 20)
coin6 = Coin('coin.png',270, 325 - 20, 20, 20)
coin7 = Coin('coin.png',270, 370 - 20, 20, 20)
coin8 = Coin('coin.png',270, 415 - 20, 20, 20)
coin9 = Coin('coin.png',270, 460 - 20, 20, 20)
coin10 = Coin('coin.png',270, 505 - 20, 20, 20)
coin151 = Coin("coin.png",270 ,505 - 20, 20, 20)
coin11 = Coin('coin.png',270, 550 - 20, 20, 20)
coin12 = Coin("coin.png",270 ,605 - 20, 20, 20)
coin13 = Coin("coin.png",270 ,640 - 20, 20, 20)
coin14 = Coin("coin.png",225 ,670 - 20, 20, 20)
coin15 = Coin("coin.png",180 ,670 - 20, 20, 20)
coin16 = Coin("coin.png",135 ,670 - 20, 20, 20)
coin17 = Coin("coin.png",90 ,670 - 20, 20, 20)
coin18 = Coin("coin.png",225 ,605 - 20, 20, 20)
coin19 = Coin("coin.png",180 ,605 - 20, 20, 20)
coin20 = Coin("coin.png",135 ,605 - 20, 20, 20)
coin21 = Coin("coin.png",90 ,605 - 20, 20, 20)
coin22 = Coin("coin.png",45 ,605 - 20, 20, 20)
coin23 = Coin("coin.png",10 ,605 - 20, 20, 20)
coin24 = Coin("coin.png",315 ,605 - 20, 20, 20)
coin25 = Coin("coin.png",360 ,605 - 20, 20, 20)
coin26 = Coin("coin.png",405 ,605 - 20, 20, 20)
coin27 = Coin("coin.png",450 ,605 - 20, 20, 20)
coin28 = Coin("coin.png",495 ,605 - 20, 20, 20)
coin29 = Coin("coin.png",540 ,605 - 20, 20, 20)
coin30 = Coin("coin.png",555 ,575 - 20, 20, 20)
coin31 = Coin("coin.png",555 ,535 - 20, 20, 20)
coin32 = Coin("coin.png",555 ,490 - 20, 20, 20)
coin33 = Coin("coin.png",585 ,455 - 20, 20, 20)
coin34 = Coin("coin.png",610 ,490 - 20, 20, 20)
coin35 = Coin("coin.png",610 ,535 - 20, 20, 20)
coin36 = Coin("coin.png",610 ,575 - 20, 20, 20)
coin37 = Coin("coin.png",610 ,610 - 20, 20, 20)
coin38 = Coin("coin.png",655 ,610 - 20, 20, 20)
coin39 = Coin("coin.png",685 ,610 - 20, 20, 20)
coin40 = Coin("coin.png",495 ,645 - 20, 20, 20)
coin41 = Coin("coin.png",685 ,645 - 20, 20, 20)
coin42 = Coin("coin.png",685 ,670 - 20, 20, 20)
coin43 = Coin("coin.png",655 ,670 - 20, 20, 20)
coin44 = Coin("coin.png",620 ,670 - 20, 20, 20)
coin45 = Coin("coin.png",585 ,670 - 20, 20, 20)
coin46 = Coin("coin.png",540 ,670 - 20, 20, 20)
coin47 = Coin("coin.png",495 ,670 - 20, 20, 20)
coin48 = Coin("coin.png",450 ,670 - 20, 20, 20)
coin49 = Coin("coin.png",405 ,670 - 20, 20, 20)
coin50 = Coin("coin.png",360 ,670 - 20, 20, 20)
coin51 = Coin("coin.png",315 ,670 - 20, 20, 20)
coin52 = Coin("coin.png",260 ,670 - 20, 20, 20)
coin53 = Coin("coin.png",730 ,610 - 20, 20, 20)
coin54 = Coin("coin.png",765 ,610 - 20, 20, 20)
coin55 = Coin("coin.png",800 ,610 - 20, 20, 20)
coin56 = Coin("coin.png",840 ,610 - 20, 20, 20)
coin57 = Coin("coin.png",875 ,610 - 20, 20, 20)
coin58 = Coin("coin.png",915 ,610 - 20, 20, 20)
coin59 = Coin("coin.png",950 ,610 - 20, 20, 20)
coin60 = Coin("coin.png",980 ,610 - 20, 20, 20)
coin61 = Coin("coin.png",1015 ,610 - 20, 20, 20)
coin62 = Coin("coin.png",1045 ,610 - 20, 20, 20)
coin63 = Coin("coin.png",1075 ,610 - 20, 20, 20)
coin64 = Coin("coin.png",1105 ,610 - 20, 20, 20)
coin65 = Coin("coin.png",1140 ,610 - 20, 20, 20)
coin66 = Coin("coin.png",1140 ,640 - 20, 20, 20)
coin67 = Coin("coin.png",1140 ,670 - 20, 20, 20)
coin68 = Coin("coin.png",1105 ,670 - 20, 20, 20)
coin69 = Coin("coin.png",1075 ,670 - 20, 20, 20)
coin70 = Coin("coin.png",1045 ,670 - 20, 20, 20)
coin71 = Coin("coin.png",1015 ,670 - 20, 20, 20)
coin72 = Coin("coin.png",980 ,670 - 20, 20, 20)
coin73 = Coin("coin.png",950 ,670 - 20, 20, 20)
coin74 = Coin("coin.png",915 ,670 - 20, 20, 20)
coin75 = Coin("coin.png",875 ,670 - 20, 20, 20)
coin76 = Coin("coin.png",840 ,670 - 20, 20, 20)
coin77 = Coin("coin.png",800 ,670 - 20, 20, 20)
coin78 = Coin("coin.png",765 ,670 - 20, 20, 20)
coin79 = Coin("coin.png",730 ,670 - 20, 20, 20)
coin80 = Coin("coin.png",915 ,640 - 20, 20, 20)
coin81 = Coin("coin.png",915 ,580 - 20, 20, 20)
coin82 = Coin("coin.png",915 ,550 - 20, 20, 20)
coin83 = Coin("coin.png",915 ,520 - 20, 20, 20)
coin84 = Coin("coin.png",915 ,490 - 20, 20, 20)
coin85 = Coin("coin.png",915 ,460 - 20, 20, 20)
coin86 = Coin("coin.png",915 ,430 - 20, 20, 20)
coin87 = Coin("coin.png",915 ,400 - 20, 20, 20)
coin88 = Coin("coin.png",915 ,370 - 20, 20, 20)
coin89 = Coin("coin.png",915 ,340 - 20, 20, 20)
coin90 = Coin("coin.png",915 ,310 - 20, 20, 20)
coin91 = Coin("coin.png",915 ,280 - 20, 20, 20)
coin92 = Coin("coin.png",915 ,250 - 20, 20, 20)
coin93 = Coin("coin.png",915 ,220 - 20, 20, 20)
coin94 = Coin("coin.png",915 ,190 - 20, 20, 20)
coin95 = Coin("coin.png",915 ,160 - 20, 20, 20)
coin96 = Coin("coin.png",915 ,130 - 20, 20, 20)
coin97 = Coin("coin.png",915 ,100 - 20, 20, 20)
coin98 = Coin("coin.png",945 ,100 - 20, 20, 20)
coin99 = Coin("coin.png",975 ,100 - 20, 20, 20)
coin100 = Coin("coin.png",1005 ,100 - 20, 20, 20)
coin101 = Coin("coin.png",1035 ,100 - 20, 20, 20)
coin102 = Coin("coin.png",1065 ,100 - 20, 20, 20)
coin103 = Coin("coin.png",1095 ,100 - 20, 20, 20)
coin104 = Coin("coin.png",1125 ,100 - 20, 20, 20)
coin105 = Coin("coin.png",1155 ,100 - 20, 20, 20)
coin106 = Coin("coin.png",975 ,135 - 20, 20, 20)
coin107 = Coin("coin.png",975 ,170 - 20, 20, 20)
coin108 = Coin("coin.png",1005 ,170 - 20, 20, 20)
coin10 = Coin("coin.png",1035 ,170 - 20, 20, 20)
coin109 = Coin("coin.png",1065 ,170 - 20, 20, 20)
coin110 = Coin("coin.png",1095 ,170 - 20, 20, 20)
coin111 = Coin("coin.png",1125 ,170 - 20, 20, 20)
coin112 = Coin("coin.png",1155 ,170 - 20, 20, 20)
coin113 = Coin("coin.png",1155 ,200 - 20, 20, 20)
coin114 = Coin("coin.png",1155 ,230 - 20, 20, 20)
coin115 = Coin("coin.png",1125 ,230 - 20, 20, 20)
coin116 = Coin("coin.png",1095 ,230 - 20, 20, 20)
coin117 = Coin("coin.png",1065 ,230 - 20, 20, 20)
coin118 = Coin("coin.png",1035 ,230 - 20, 20, 20)
coin119 = Coin("coin.png",1005 ,230 - 20, 20, 20)
coin120 = Coin("coin.png",975 ,230 - 20, 20, 20)
coin121 = Coin("coin.png",975 ,265 - 20, 20, 20)
coin122 = Coin("coin.png",975 ,295 - 20, 20, 20)
coin123 = Coin("coin.png",1005 ,295 - 20, 20, 20)
coin124 = Coin("coin.png",1035 ,295 - 20, 20, 20)
coin125 = Coin("coin.png",1065 ,295 - 20, 20, 20)
coin126 = Coin("coin.png",1095 ,295 - 20, 20, 20)
coin127 = Coin("coin.png",1125 ,295 - 20, 20, 20)
coin128 = Coin("coin.png",1155 ,295 - 20, 20, 20)
coin129 = Coin("coin.png",1155 ,325 - 20, 20, 20)
coin130 = Coin("coin.png",1155 ,355 - 20, 20, 20)
coin131 = Coin("coin.png",1125 ,355 - 20, 20, 20)
coin132 = Coin("coin.png",1095 ,355 - 20, 20, 20)
coin133 = Coin("coin.png",1065 ,355 - 20, 20, 20)
coin134 = Coin("coin.png",1035 ,355 - 20, 20, 20)
coin135 = Coin("coin.png",1005 ,355 - 20, 20, 20) 
coin136 = Coin("coin.png",975 ,355 - 20, 20, 20)
coin137 = Coin("coin.png",945 ,355 - 20, 20, 20)
coin138 = Coin("coin.png",1045 ,395 - 20, 20, 20)
coin139 = Coin("coin.png",1045 ,425 - 20, 20, 20)
coin140 = Coin("coin.png",1045 ,455 - 20, 20, 20)
coin141 = Coin("coin.png",1045 ,485 - 20, 20, 20)
coin142 = Coin("coin.png",1075 ,425 - 20, 20, 20)
coin143 = Coin("coin.png",1105 ,425 - 20, 20, 20)
coin144 = Coin("coin.png",1135 ,425 - 20, 20, 20)
coin145 = Coin("coin.png",1165 ,425 - 20, 20, 20)
coin146 = Coin("coin.png",1105 ,485 - 20, 20, 20)
coin147 = Coin("coin.png",1135 ,485 - 20, 20, 20)
coin148 = Coin("coin.png",1165 ,485 - 20, 20, 20)
coin149 = Coin("coin.png",1195 ,485 - 20, 20, 20)
coin150 = Coin("coin.png",1075 ,485 - 20, 20, 20)
coin152 = Coin("coin.png",1165 ,515 - 20, 20, 20)
coin153 = Coin("coin.png",1165 ,545 - 20, 20, 20)
coin154 = Coin("coin.png",1135 ,545 - 20, 20, 20)
coin155 = Coin("coin.png",1105 ,545 - 20, 20, 20)
coin156 = Coin("coin.png",1075 ,545 - 20, 20, 20)
coin157 = Coin("coin.png",1045 ,545 - 20, 20, 20)
coin158 = Coin("coin.png",1015 ,545 - 20, 20, 20)
coin159 = Coin("coin.png",985 ,545 - 20, 20, 20)
coin160 = Coin("coin.png",985 ,515 - 20, 20, 20)
coin161 = Coin("coin.png",985 ,485 - 20, 20, 20)
coin162 = Coin("coin.png",985 ,455 - 20, 20, 20)
coin163 = Coin("coin.png",985 ,425 - 20, 20, 20)
coin164 = Coin("coin.png",955 ,425 - 20, 20, 20)
coin165 = Coin("coin.png",885 ,100 - 20, 20, 20)
coin166 = Coin("coin.png",855 ,100 - 20, 20, 20)
coin167 = Coin("coin.png",825 ,100 - 20, 20, 20)
coin168 = Coin("coin.png",795 ,100 - 20, 20, 20)
coin169 = Coin("coin.png",765 ,100 - 20, 20, 20)
coin170 = Coin("coin.png",735 ,100 - 20, 20, 20)
coin171 = Coin("coin.png",705 ,100 - 20, 20, 20)
coin172 = Coin("coin.png",675 ,100 - 20, 20, 20)
coin173 = Coin("coin.png",645 ,100 - 20, 20, 20)
coin174 = Coin("coin.png",615 ,100 - 20, 20, 20)
coin175 = Coin("coin.png",585 ,100 - 20, 20, 20)
coin176 = Coin("coin.png",555 ,100 - 20, 20, 20)
coin177 = Coin("coin.png",525 ,100 - 20, 20, 20)
coin178 = Coin("coin.png",495 ,100 - 20, 20, 20)
coin179 = Coin("coin.png",465 ,100 - 20, 20, 20)
coin180 = Coin("coin.png",435 ,100 - 20, 20, 20)
coin181 = Coin("coin.png",405 ,100 - 20, 20, 20)
coin182 = Coin("coin.png",375 ,100 - 20, 20, 20)
coin183 = Coin("coin.png",345 ,100 - 20, 20, 20)
coin184 = Coin("coin.png",315 ,100 - 20, 20, 20)
coin185 = Coin("coin.png",240 ,100 - 20, 20, 20)
coin186 = Coin("coin.png",210 ,100 - 20, 20, 20)
coin187 = Coin("coin.png",180 ,100 - 20, 20, 20)
coin188 = Coin("coin.png",150 ,100 - 20, 20, 20)
coin189 = Coin("coin.png",120 ,100 - 20, 20, 20)
coin190 = Coin("coin.png",90 ,100 - 20, 20, 20)
coin191 = Coin("coin.png",60 ,100 - 20, 20, 20)
coin192 = Coin("coin.png",30 ,100 - 20, 20, 20)
coin193 = Coin('coin.png',300, 175 - 20, 20, 20)
coin194 = Coin('coin.png',330, 175 - 20, 20, 20)
coin195 = Coin('coin.png',360, 175 - 20, 20, 20)
coin196 = Coin('coin.png',390, 175 - 20, 20, 20)
coin197 = Coin('coin.png',420, 175 - 20, 20, 20)
coin198 = Coin('coin.png',450, 175 - 20, 20, 20)
coin199 = Coin('coin.png',480, 175 - 20, 20, 20)
coin200 = Coin('coin.png',510, 175 - 20, 20, 20)
coin201 = Coin('coin.png',540, 175 - 20, 20, 20)
coin202 = Coin('coin.png',570, 175 - 20, 20, 20)
coin203 = Coin('coin.png',600, 175 - 20, 20, 20)
coin204 = Coin('coin.png',630, 175 - 20, 20, 20)
coin205 = Coin('coin.png',660, 175 - 20, 20, 20)
coin206 = Coin('coin.png',690, 175 - 20, 20, 20)
coin207 = Coin('coin.png',720, 175 - 20, 20, 20)
coin208 = Coin('coin.png',750, 175 - 20, 20, 20)
coin209 = Coin('coin.png',780, 175 - 20, 20, 20)
coin210 = Coin('coin.png',810, 175 - 20, 20, 20)
coin211 = Coin('coin.png',840, 175 - 20, 20, 20)
coin212 = Coin('coin.png',870, 175 - 20, 20, 20)
coin213 = Coin('coin.png',840, 205 - 20, 20, 20)
coin214 = Coin('coin.png',840, 235 - 20, 20, 20)
coin215 = Coin('coin.png',840, 265 - 20, 20, 20)
coin216 = Coin('coin.png',840, 295 - 20, 20, 20)
coin217 = Coin('coin.png',870, 295 - 20, 20, 20)
coin218 = Coin('coin.png',840, 325 - 20, 20, 20)
coin219 = Coin('coin.png',840, 355 - 20, 20, 20)
coin220 = Coin('coin.png',840, 385 - 20, 20, 20)
coin221 = Coin('coin.png',840, 415 - 20, 20, 20)
coin222 = Coin('coin.png',840, 445 - 20, 20, 20)
coin223 = Coin('coin.png',840, 475 - 20, 20, 20)
coin224 = Coin('coin.png',870, 485 - 20, 20, 20)
coin225 = Coin('coin.png',840, 505 - 20, 20, 20)
coin226 = Coin('coin.png',840, 535 - 20, 20, 20)
coin227 = Coin('coin.png',840, 565 - 20, 20, 20)
coin228 = Coin('coin.png',300, 310 - 20, 20, 20)
coin229 = Coin('coin.png',330, 310 - 20, 20, 20)
coin230 = Coin('coin.png',330, 280 - 20, 20, 20)
coin231 = Coin('coin.png',330, 250 - 20, 20, 20)
coin232 = Coin('coin.png',330, 220 - 20, 20, 20)
coin233 = Coin('coin.png',330, 340 - 20, 20, 20)
coin234 = Coin('coin.png',330, 370 - 20, 20, 20)
coin235 = Coin('coin.png',330, 400 - 20, 20, 20)
coin236 = Coin('coin.png',330, 430 - 20, 20, 20)
coin237 = Coin('coin.png',330, 460 - 20, 20, 20)
coin238 = Coin('coin.png',330, 490 - 20, 20, 20)
coin239 = Coin('coin.png',300, 490 - 20, 20, 20)
coin240 = Coin('coin.png',330, 520 - 20, 20, 20)
coin241 = Coin('coin.png',330, 550 - 20, 20, 20)
coin242 = Coin('coin.png',330, 580 - 20, 20, 20)
coin243 = Coin('coin.png',360, 430 - 20, 20, 20)
coin244 = Coin("coin.png",200 ,140 - 20, 20, 20)
coin245 = Coin("coin.png",200 ,170 - 20, 20, 20)
coin246 = Coin("coin.png",170 ,170 - 20, 20, 20)
coin247 = Coin("coin.png",140 ,170 - 20, 20, 20)
coin248 = Coin("coin.png",110 ,170 - 20, 20, 20)
coin249 = Coin("coin.png",80 ,170 - 20, 20, 20)
coin250 = Coin("coin.png",50 ,170 - 20, 20, 20)
coin251 = Coin("coin.png",20 ,170 - 20, 20, 20)
coin252 = Coin("coin.png",20 ,200 - 20, 20, 20)
coin253 = Coin("coin.png",20 ,230 - 20, 20, 20)
coin254 = Coin("coin.png",50 ,230 - 20, 20, 20)
coin255 = Coin("coin.png",80 ,230 - 20, 20, 20)
coin256 = Coin("coin.png",110 ,230 - 20, 20, 20)
coin257 = Coin("coin.png",140 ,230 - 20, 20, 20)
coin258 = Coin("coin.png",170 ,230 - 20, 20, 20)
coin259 = Coin("coin.png",200 ,230 - 20, 20, 20)
coin260 = Coin("coin.png",200 ,270 - 20, 20, 20)
coin261 = Coin("coin.png",200 ,300 - 20, 20, 20)
coin262 = Coin("coin.png",170 ,300 - 20, 20, 20)
coin263 = Coin("coin.png",140 ,300 - 20, 20, 20)
coin264 = Coin("coin.png",110 ,300 - 20, 20, 20)
coin265 = Coin("coin.png",80 ,300 - 20, 20, 20)
coin266 = Coin("coin.png",50 ,300 - 20, 20, 20)
coin267 = Coin("coin.png",20 ,300 - 20, 20, 20)
coin268 = Coin("coin.png",20 ,330 - 20, 20, 20)
coin269 = Coin("coin.png",20 ,360 - 20, 20, 20)
coin270 = Coin("coin.png",50 ,360 - 20, 20, 20)
coin271 = Coin("coin.png",80 ,360 - 20, 20, 20)
coin272 = Coin("coin.png",110 ,360 - 20, 20, 20)
coin273 = Coin("coin.png",140 ,360 - 20, 20, 20)
coin274 = Coin("coin.png",170 ,360 - 20, 20, 20)
coin275 = Coin("coin.png",200 ,360 - 20, 20, 20)
coin276 = Coin("coin.png",230 ,360 - 20, 20, 20)
coin277 = Coin("coin.png",140 ,390 - 20, 20, 20)
coin278 = Coin("coin.png",140 ,420 - 20, 20, 20)
coin279 = Coin("coin.png",110 ,420 - 20, 20, 20)
coin280 = Coin("coin.png",80 ,420 - 20, 20, 20)
coin281 = Coin("coin.png",50 ,420 - 20, 20, 20)
coin282 = Coin("coin.png",20 ,420 - 20, 20, 20)
coin283 = Coin("coin.png",140 ,450 - 20, 20, 20)
coin284 = Coin("coin.png",140 ,480 - 20, 20, 20)
coin285 = Coin("coin.png",110 ,480 - 20, 20, 20)
coin286 = Coin("coin.png",80 ,480 - 20, 20, 20)
coin287 = Coin("coin.png",50 ,480 - 20, 20, 20)
coin288 = Coin("coin.png",20 ,480 - 20, 20, 20)
coin289 = Coin("coin.png",20 ,510 - 20, 20, 20)
coin290 = Coin("coin.png",20 ,540 - 20, 20, 20)
coin291 = Coin("coin.png",50 ,540 - 20, 20, 20)
coin292 = Coin("coin.png",80 ,540 - 20, 20, 20)
coin293 = Coin("coin.png",110 ,540 - 20, 20, 20)
coin294 = Coin("coin.png",140 ,540 - 20, 20, 20)
coin295 = Coin("coin.png",170 ,540 - 20, 20, 20)
coin296 = Coin("coin.png",200 ,540 - 20, 20, 20)
coin297 = Coin("coin.png",200 ,510 - 20, 20, 20)
coin298 = Coin("coin.png",200 ,480 - 20, 20, 20)
coin299 = Coin("coin.png",200 ,450 - 20, 20, 20)
coin300 = Coin("coin.png",200 ,420 - 20, 20, 20)
coin301 = Coin("coin.png",230 ,420 - 20, 20, 20)
coin302 = Coin("coin.png",640 ,490 - 20, 20, 20)
coin303 = Coin("coin.png",670 ,490 - 20, 20, 20)
coin304 = Coin("coin.png",700 ,490 - 20, 20, 20)
coin305 = Coin("coin.png",730 ,490 - 20, 20, 20)
coin306 = Coin("coin.png",760 ,490 - 20, 20, 20)
coin307 = Coin("coin.png",790 ,490 - 20, 20, 20)
coin308 = Coin("coin.png",790 ,520 - 20, 20, 20)
coin309 = Coin("coin.png",790 ,550 - 20, 20, 20)
coin310 = Coin("coin.png",760 ,550 - 20, 20, 20)
coin311 = Coin("coin.png",730 ,550 - 20, 20, 20)
coin312 = Coin("coin.png",700 ,550 - 20, 20, 20)
coin313 = Coin("coin.png",670 ,550 - 20, 20, 20)
coin314 = Coin("coin.png",580 ,490 - 20, 20, 20)
coin315 = Coin("coin.png",520 ,490 - 20, 20, 20)
coin316 = Coin("coin.png",490 ,490 - 20, 20, 20)
coin317 = Coin("coin.png",460 ,490 - 20, 20, 20)
coin318 = Coin("coin.png",430 ,490 - 20, 20, 20)
coin319 = Coin("coin.png",400 ,490 - 20, 20, 20)
coin320 = Coin("coin.png",400 ,520 - 20, 20, 20)
coin321 = Coin("coin.png",400 ,550 - 20, 20, 20)
coin322 = Coin("coin.png",430 ,550 - 20, 20, 20)
coin323 = Coin("coin.png",460 ,550 - 20, 20, 20)
coin324 = Coin("coin.png",490 ,550 - 20, 20, 20)
coin325 = Coin("coin.png",400 ,460 - 20, 20, 20)
coin326 = Coin("coin.png",400 ,430 - 20, 20, 20)
coin327 = Coin("coin.png",400 ,400 - 20, 20, 20)
coin328 = Coin("coin.png",400 ,370 - 20, 20, 20)
coin329 = Coin("coin.png",400 ,340 - 20, 20, 20)
coin330 = Coin("coin.png",400 ,310 - 20, 20, 20)
coin331 = Coin("coin.png",400 ,275 - 20, 20, 20)
coin332 = Coin("coin.png",400 ,240 - 20, 20, 20)
coin333 = Coin("coin.png",430 ,240 - 20, 20, 20)
coin334 = Coin("coin.png",460 ,240 - 20, 20, 20)
coin335 = Coin("coin.png",490 ,240 - 20, 20, 20)
coin336 = Coin("coin.png",520 ,240 - 20, 20, 20)
coin337 = Coin("coin.png",550 ,240 - 20, 20, 20)
coin338 = Coin("coin.png",580 ,240 - 20, 20, 20)
coin339 = Coin("coin.png",610 ,240 - 20, 20, 20)
coin340 = Coin("coin.png",640 ,240 - 20, 20, 20)
coin341 = Coin("coin.png",670 ,240 - 20, 20, 20)
coin342 = Coin("coin.png",700 ,240 - 20, 20, 20)
coin343 = Coin("coin.png",730 ,240 - 20, 20, 20)
coin344 = Coin("coin.png",760 ,240 - 20, 20, 20)
coin345 = Coin("coin.png",790 ,240 - 20, 20, 20)
coin346 = Coin("coin.png",790 ,270 - 20, 20, 20)
coin347 = Coin("coin.png",790 ,300 - 20, 20, 20)
coin348 = Coin("coin.png",790 ,330 - 20, 20, 20)
coin349 = Coin("coin.png",790 ,360 - 20, 20, 20)
coin350 = Coin("coin.png",790 ,390 - 20, 20, 20)
coin351 = Coin("coin.png",790 ,420 - 20, 20, 20)
coin352 = Coin("coin.png",790 ,450 - 20, 20, 20)

coins = sprite.Group()
coins.add(coin1)
coins.add(coin2)
coins.add(coin3)
coins.add(coin4)
coins.add(coin5)
coins.add(coin6)
coins.add(coin7)
coins.add(coin8)
coins.add(coin9)
coins.add(coin10)
coins.add(coin11)
coins.add(coin12)
coins.add(coin13)
coins.add(coin14)
coins.add(coin15)
coins.add(coin16)
coins.add(coin17)
coins.add(coin18)
coins.add(coin19)
coins.add(coin20)
coins.add(coin21)
coins.add(coin22)
coins.add(coin23)
coins.add(coin24)
coins.add(coin25)
coins.add(coin26)
coins.add(coin27)
coins.add(coin28)
coins.add(coin29)
coins.add(coin30)
coins.add(coin31)
coins.add(coin32)
coins.add(coin33)
coins.add(coin34)
coins.add(coin35)
coins.add(coin36)
coins.add(coin37)
coins.add(coin38)
coins.add(coin39)
coins.add(coin40)
coins.add(coin41)
coins.add(coin42)
coins.add(coin43)
coins.add(coin44)
coins.add(coin45)
coins.add(coin46)
coins.add(coin47)
coins.add(coin48)
coins.add(coin49)
coins.add(coin50)
coins.add(coin51)
coins.add(coin52)
coins.add(coin53)
coins.add(coin54)
coins.add(coin55)
coins.add(coin56)
coins.add(coin57)
coins.add(coin58)
coins.add(coin59)
coins.add(coin60)
coins.add(coin61)
coins.add(coin62)
coins.add(coin63)
coins.add(coin64)
coins.add(coin65)
coins.add(coin66)
coins.add(coin67)
coins.add(coin68)
coins.add(coin69)
coins.add(coin70)
coins.add(coin71)
coins.add(coin72)
coins.add(coin73)
coins.add(coin74)
coins.add(coin75)
coins.add(coin76)
coins.add(coin77)
coins.add(coin78)
coins.add(coin79)
coins.add(coin80)
coins.add(coin81)
coins.add(coin82)
coins.add(coin83)
coins.add(coin84)
coins.add(coin85)
coins.add(coin86)
coins.add(coin87)
coins.add(coin88)
coins.add(coin89)
coins.add(coin90)
coins.add(coin91)
coins.add(coin92)
coins.add(coin93)
coins.add(coin94)
coins.add(coin95)
coins.add(coin96)
coins.add(coin97)
coins.add(coin98)
coins.add(coin99)
coins.add(coin100)
coins.add(coin101)
coins.add(coin102)
coins.add(coin103)
coins.add(coin104)
coins.add(coin105)
coins.add(coin106)
coins.add(coin107)
coins.add(coin108)
coins.add(coin109)
coins.add(coin110)
coins.add(coin111)
coins.add(coin112)
coins.add(coin113)
coins.add(coin114)
coins.add(coin115)
coins.add(coin116)
coins.add(coin117)
coins.add(coin118)
coins.add(coin119)
coins.add(coin120)
coins.add(coin121)
coins.add(coin122)
coins.add(coin123)
coins.add(coin124)
coins.add(coin125)
coins.add(coin126)
coins.add(coin127)
coins.add(coin128)
coins.add(coin129)
coins.add(coin130)
coins.add(coin131)
coins.add(coin132)
coins.add(coin133)
coins.add(coin134)
coins.add(coin135)
coins.add(coin136)
coins.add(coin137)
coins.add(coin138)
coins.add(coin139)
coins.add(coin140)
coins.add(coin141)
coins.add(coin142)
coins.add(coin143)
coins.add(coin144)
coins.add(coin145)
coins.add(coin146)
coins.add(coin147)
coins.add(coin148)
coins.add(coin149)
coins.add(coin150)
coins.add(coin151)
coins.add(coin152)
coins.add(coin153)
coins.add(coin154)
coins.add(coin155)
coins.add(coin156)
coins.add(coin157)
coins.add(coin158)
coins.add(coin159)
coins.add(coin160)
coins.add(coin161)
coins.add(coin162)
coins.add(coin163)
coins.add(coin164)
coins.add(coin165)
coins.add(coin166)
coins.add(coin167)
coins.add(coin168)
coins.add(coin169)
coins.add(coin170)
coins.add(coin171)
coins.add(coin172)
coins.add(coin173)
coins.add(coin174)
coins.add(coin175)
coins.add(coin176)
coins.add(coin177)
coins.add(coin178)
coins.add(coin179)
coins.add(coin180)
coins.add(coin181)
coins.add(coin182)
coins.add(coin183)
coins.add(coin184)
coins.add(coin185)
coins.add(coin186)
coins.add(coin187)
coins.add(coin188)
coins.add(coin189)
coins.add(coin190)
coins.add(coin191)
coins.add(coin192)
coins.add(coin193)
coins.add(coin194)
coins.add(coin195)
coins.add(coin196)
coins.add(coin197)
coins.add(coin198)
coins.add(coin199)
coins.add(coin200)
coins.add(coin201)
coins.add(coin202)
coins.add(coin203)
coins.add(coin204)
coins.add(coin205)
coins.add(coin206)
coins.add(coin207)
coins.add(coin208)
coins.add(coin209)
coins.add(coin210)
coins.add(coin211)
coins.add(coin212)
coins.add(coin213)
coins.add(coin214)
coins.add(coin215)
coins.add(coin216)
coins.add(coin217)
coins.add(coin218)
coins.add(coin219)
coins.add(coin220)
coins.add(coin221)
coins.add(coin222)
coins.add(coin223)
coins.add(coin224)
coins.add(coin225)
coins.add(coin226)
coins.add(coin227)
coins.add(coin228)
coins.add(coin229)
coins.add(coin230)
coins.add(coin231)
coins.add(coin232)
coins.add(coin233)
coins.add(coin234)
coins.add(coin235)
coins.add(coin236)
coins.add(coin237)
coins.add(coin238)
coins.add(coin239)
coins.add(coin240)
coins.add(coin241)
coins.add(coin242)
coins.add(coin243)
coins.add(coin244)
coins.add(coin245)
coins.add(coin246)
coins.add(coin247)
coins.add(coin248)
coins.add(coin249)
coins.add(coin250)
coins.add(coin251)
coins.add(coin252)
coins.add(coin253)
coins.add(coin254)
coins.add(coin255)
coins.add(coin256)
coins.add(coin257)
coins.add(coin258)
coins.add(coin259)
coins.add(coin260)
coins.add(coin261)
coins.add(coin262)
coins.add(coin263)
coins.add(coin264)
coins.add(coin265)
coins.add(coin266)
coins.add(coin267)
coins.add(coin268)
coins.add(coin269)
coins.add(coin270)
coins.add(coin271)
coins.add(coin272)
coins.add(coin273)
coins.add(coin274)
coins.add(coin275)
coins.add(coin276)
coins.add(coin277)
coins.add(coin278)
coins.add(coin279)
coins.add(coin280)
coins.add(coin281)
coins.add(coin282)
coins.add(coin283)
coins.add(coin284)
coins.add(coin285)
coins.add(coin286)
coins.add(coin287)
coins.add(coin288)
coins.add(coin289)
coins.add(coin290)
coins.add(coin291)
coins.add(coin292)
coins.add(coin293)
coins.add(coin294)
coins.add(coin295)
coins.add(coin296)
coins.add(coin297)
coins.add(coin298)
coins.add(coin299)
coins.add(coin300)
coins.add(coin301)
coins.add(coin302)
coins.add(coin303)
coins.add(coin304)
coins.add(coin305)
coins.add(coin306)
coins.add(coin307)
coins.add(coin308)
coins.add(coin309)
coins.add(coin310)
coins.add(coin311)
coins.add(coin312)
coins.add(coin313)
coins.add(coin314)
coins.add(coin315)
coins.add(coin316)
coins.add(coin317)
coins.add(coin318)
coins.add(coin319)
coins.add(coin320)
coins.add(coin321)
coins.add(coin322)
coins.add(coin323)
coins.add(coin324)
coins.add(coin325)
coins.add(coin326)
coins.add(coin327)
coins.add(coin328)
coins.add(coin329)
coins.add(coin330)
coins.add(coin331)
coins.add(coin332)
coins.add(coin333)
coins.add(coin334)
coins.add(coin335)
coins.add(coin336)
coins.add(coin337)
coins.add(coin338)
coins.add(coin339)
coins.add(coin340)
coins.add(coin341)
coins.add(coin342)
coins.add(coin343)
coins.add(coin344)
coins.add(coin345)
coins.add(coin346)
coins.add(coin347)
coins.add(coin348)
coins.add(coin349)
coins.add(coin350)
coins.add(coin351)
coins.add(coin352)

#Створюємо групу для стін
barriers = sprite.Group()
bullets = sprite.Group()
#Створюємо стіни картинки
w1 = GameSprite('k.png', 0, 50, 10, 330)
w2 = GameSprite('k.png', 10, 50, 1200, 10)
w3 = GameSprite('k.png', 1190, 50, 10, 335)
w4 = GameSprite('k.png', 10, 690, 1190, 700)
w5 = GameSprite('k.png', 500, 315, 60, 10)
w6 = GameSprite('k.png', 630, 315, 60, 10)
w7 = GameSprite('k.png', 500, 375, 190, 10)
w8 = GameSprite('k.png', 490, 315, 10, 70)
w9 = GameSprite('k.png', 690, 315, 10, 70)
w10 = GameSprite('k.png', 760, 315, 10, 130)
w11 = GameSprite('k.png', 430, 315, 10, 130)
w12 = GameSprite('k.png', 440, 435, 120, 10)
w13 = GameSprite('k.png', 630, 435, 130, 10)
w14 = GameSprite('k.png', 430, 250, 340, 10)
w15 = GameSprite('k.png', 370, 190, 190, 10)
w16 = GameSprite('k.png', 630, 190, 190, 10)
w17 = GameSprite('k.png', 370, 190, 10, 195)
w18 = GameSprite('k.png', 820, 190, 10, 195)
w19 = GameSprite('k.png', 310, 190, 10, 70)
w20 = GameSprite('k.png', 880, 190, 10, 70)
w21 = GameSprite('k.png', 310, 320, 10, 125)
w22 = GameSprite('k.png', 880, 320, 10, 125)
w23 = GameSprite('k.png', 370, 445, 10, 125)
w24 = GameSprite('k.png', 820, 445, 10, 125)
w25 = GameSprite('k.png', 310, 500, 10, 70)
w26 = GameSprite('k.png', 880, 500, 10, 70)
w27 = GameSprite('k.png', 590, 500, 10, 130)
w28 = GameSprite('k.png', 530, 500, 10, 70)
w29 = GameSprite('k.png', 650, 500, 10, 70)
w30 = GameSprite('k.png', 650, 500, 120, 10)
w31 = GameSprite('k.png', 430, 500, 110, 10)
w32 = GameSprite('k.png', 370, 560, 100, 10)
w33 = GameSprite('k.png', 720, 560, 100, 10)
w34 = GameSprite('k.png', 530, 625, 130, 10)
w35 = GameSprite('k.png', 310, 625, 160, 10)
w36 = GameSprite('k.png', 720, 625, 170, 10)
w37 = GameSprite('k.png', 70, 625, 180, 10)
w38 = GameSprite('k.png', 960, 625, 170, 10)
w39 = GameSprite('k.png', 10, 565, 240, 10)
w40 = GameSprite('k.png', 960, 565, 230, 10)
w41 = GameSprite('k.png', 240, 445, 10, 130)
w42 = GameSprite('k.png', 950, 445, 10, 130)
w43 = GameSprite('k.png', 170, 385, 80, 10)
w44 = GameSprite('k.png', 950, 385, 80, 10)
w45 = GameSprite('k.png', 170, 385, 10, 115)
w46 = GameSprite('k.png', 1020, 385, 10, 115)
w47 = GameSprite('k.png', 70, 500, 110, 10)
w48 = GameSprite('k.png', 1020, 500, 110, 10)
w49 = GameSprite('k.png', 0, 435, 110, 10)
w50 = GameSprite('k.png', 1090, 435, 110, 10)
w51 = GameSprite('k.png', 0, 375, 110, 10)
w52 = GameSprite('k.png', 1090, 375, 110, 10)
w53 = GameSprite('k.png', 0, 440, 10, 700)
w54 = GameSprite('k.png', 1190, 440, 10, 700)
w55 = GameSprite('k.png', 70, 315, 180, 10)
w56 = GameSprite('k.png', 950, 315, 180, 10)
w57 = GameSprite('k.png', 10, 250, 160, 10)
w58 = GameSprite('k.png', 1020, 250, 190, 10)
w59 = GameSprite('k.png', 240, 130, 10, 185)
w60 = GameSprite('k.png', 950, 130, 10, 185)
w61 = GameSprite('k.png', 70, 190, 170, 10)
w62 = GameSprite('k.png', 960, 190, 170, 10)
w63 = GameSprite('k.png', 10, 120, 160, 10)
w64 = GameSprite('k.png', 1020, 120, 170, 10)
w65 = GameSprite('k.png', 310, 120, 575, 10)

barriers.add(w1)
barriers.add(w2)
barriers.add(w3)
barriers.add(w4)
barriers.add(w5)
barriers.add(w6)
barriers.add(w7)
barriers.add(w8)
barriers.add(w9)
barriers.add(w10)
barriers.add(w11)
barriers.add(w12)
barriers.add(w13)
barriers.add(w14)
barriers.add(w15)
barriers.add(w16)
barriers.add(w17)
barriers.add(w18)
barriers.add(w19)
barriers.add(w20)
barriers.add(w21)
barriers.add(w22)
barriers.add(w23)
barriers.add(w24)
barriers.add(w25)
barriers.add(w26)
barriers.add(w27)
barriers.add(w28)
barriers.add(w29)
barriers.add(w30)
barriers.add(w31)
barriers.add(w32)
barriers.add(w33)
barriers.add(w34)
barriers.add(w35)
barriers.add(w36)
barriers.add(w37)
barriers.add(w38)
barriers.add(w39)
barriers.add(w40)
barriers.add(w41)
barriers.add(w42)
barriers.add(w43)
barriers.add(w44)
barriers.add(w45)
barriers.add(w46)
barriers.add(w47)
barriers.add(w48)
barriers.add(w49)
barriers.add(w50)
barriers.add(w51)
barriers.add(w52)
barriers.add(w53)
barriers.add(w54)
barriers.add(w55)
barriers.add(w56)
barriers.add(w57)
barriers.add(w58)
barriers.add(w59)
barriers.add(w60)
barriers.add(w61)
barriers.add(w62)
barriers.add(w63)
barriers.add(w64)
barriers.add(w65)

#створюємо спрайти
packman = Player('player.png', 20, 650, 30, 30, 0, 0)

ghost_red = Enemy_y("red.png",260, 100 - 35, 35, 35,     60,  610, 1) 
ghost_yelow = Enemy_x("yelow.png",700, 550 - 35, 35, 35, 670, 770, 1) 
ghost_green = Enemy_y("green.png",390, 300 - 35, 35, 35, 220, 530, 1) 
ghost_blue = Enemy_y("blue.png",900, 100 - 35, 35, 35,   70,  610, 1) 
ghost_arm = Enemy_x("arm.png",100, 100 - 35, 35, 35,     20,  1150, 1) 
ghost_kov = Enemy_x("kov.png",390, 300 - 35, 35, 35,    390,  780, 1) 
ghost_nin = Enemy_y("nin.png",840, 300 - 35, 35, 35,     150,  560, 1) 
ghost_pol = Enemy_x("pol.png",20, 620 - 35, 35, 35,     20,  560, 1) 
ghost_vic = Enemy_x("vic.png",260, 180 - 35, 35, 35,     300,  800, 1) 

ghosts = sprite.Group()
ghosts.add(ghost_red)
ghosts.add(ghost_yelow)
ghosts.add(ghost_green)
ghosts.add(ghost_blue)
ghosts.add(ghost_arm)
ghosts.add(ghost_kov)
ghosts.add(ghost_nin)
ghosts.add(ghost_pol)
ghosts.add(ghost_vic)


final_sprite = GameSprite("chest.png", 645, 330, 40, 40)

#змінна, що відповідає за те, як закінчилася гра
finish = False

#ігровий цикл
run = True
while run:
    for e in event.get():
        if e.type == QUIT:
            run = False
        elif e.type == KEYDOWN:
            if e.key == K_LEFT:
                packman.x_speed = -2
            elif e.key == K_RIGHT:
                packman.x_speed = 2
            elif e.key == K_UP:
                packman.y_speed = -2
            elif e.key == K_DOWN:
                packman.y_speed = 2
            elif e.key == K_SPACE:
                packman.fire()
        elif e.type == KEYUP:
            if e.key == K_LEFT:
                packman.x_speed = 0
            elif e.key == K_RIGHT:
                packman.x_speed = 0
            elif e.key == K_UP:
                packman.y_speed = 0
            elif e.key == K_DOWN:
                packman.y_speed = 0

    if not finish:
        window.blit(back, (0, 0))
        #малюємо об'єкти
        coins.draw(window)
        barriers.draw(window)  
        bullets.draw(window)
        ghosts.draw(window)
        packman.reset()
        #включаємо рух
        ghosts.update()
        bullets.update()
        packman.update()

        sprite.groupcollide(ghosts, bullets, True, True)
        sprite.groupcollide(bullets, barriers, True, False)

        coin_text = font.render(f"Coins: {coins_amount_1}", True, (255, 255, 255))
        window.blit(coin_text, (10, 10))  

        #Перевірка зіткнення героя з ворогом та стінами
        if sprite.spritecollide(packman, ghosts, True):
            finish = True
            img = image.load('lose.jpg')
            window.blit(transform.scale(img, (win_width, win_height)), (0, 0))

        if sprite.spritecollide(packman, coins, True):
            coins_amount_1 += 1

        if coins_amount_1 > 350:
            final_sprite.reset()
            if sprite.collide_rect(packman, final_sprite):
                finish = True
                img = transform.scale(image.load("win.jpg"), (win_width, win_height))
                window.blit(img, (0, 0))
       
        display.update()